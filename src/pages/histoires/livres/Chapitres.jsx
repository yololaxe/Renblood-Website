import { useParams, useNavigate } from "react-router-dom";
import { motion } from "framer-motion"; // ‚úÖ Ajout pour l'animation
import livre1Img from "../../../../public/livres/livre1.png";
import livre2Img from "../../../../public/livres/livre2.png";

const livres = {
  1: {
    titre: "üìú Histoire du Royaume de Renblood (0 - 321)",
    image: livre1Img,
    chapitres: [
      {
        id: 1,
        titre: "Ann√©e 0-133 | Premier √¢ge : Hommes, elfes et nains",
        sections: [
          {
            id: 1,
            titre: "Ann√©e 0-21 | La Grande Conqu√™te",
            contenu:
              "Le d√©but de l'histoire du royaume de Renblood est marqu√© par la Grande Conqu√™te. Les humains, les elfes et les nains envahissent les quatre comt√©s, unissant leurs forces pour vaincre les peuples autochtones. Durant cette campagne, le peuple cyclope est d√©cim√©, et les sir√®nes sont extermin√©es, consolidant le contr√¥le des envahisseurs sur le territoire.",
          },
          {
            id: 2,
            titre: "Ann√©e 21 | La Chute de The Verdict",
            contenu:
              "La paix est bris√©e lorsque les cyclopes lancent une contre-offensive, envahissant le nord du comt√© de Cornwall. La grande ville de The Verdict est d√©truite lors de cette invasion. Ce d√©sastre annonce une p√©riode de troubles pour le royaume et m√®ne √† l'instauration de nouvelles puissances. La famille Paltain r√®gne d√©sormais sur les quatre continents.",
          },
          {
            id: 3,
            titre: "Ann√©e 57 | L‚ÄôAlliance de la Montagne",
            contenu:
              "Lors de la Grande Conqu√™te, alors que les humains, les elfes, et les nains repoussaient les cyclopes, Bertorah Goodbrook, chef de la famille naine Goodbrook, et Elanor Chalk, une puissante mage elfe de la lign√©e des √âthilion, sign√®rent le fameux 'Pacte de la Montagne.' Cet accord √©tablit une alliance durable entre les nains et les elfes du royaume, leur permettant de partager des secrets de forge et de magie. La signature du pacte eut lieu dans les montagnes de Mofrage et fut scell√©e avec une amulette forg√©e dans la l√©gendaire forge de The Verdict, avant sa chute. Cette alliance serait √† l'origine de la construction future de la grande mine de Moria.",
          },
          {
            id: 4,
            titre: "Ann√©e 88 | La Grande Famine du Nord",
            contenu:
              "Pendant une d√©cennie difficile pour le comt√© de Cornwall, la terre se retrouva st√©rile et incapable de fournir suffisamment de nourriture √† ses habitants. Herbert Lynster, gouverneur du Nord, utilisa ses relations avec les familles humaines et naines pour assurer la survie de son peuple. Il fit appel √† Julien Rollingford, seigneur de Wild Range, qui ordonna l'acheminement de r√©serves de c√©r√©ales et de b√©tail vers le Nord. La famine fut ainsi √©vit√©e, et les liens entre les Lynster et les Rollingford s‚Äôen trouv√®rent renforc√©s, jetant les bases de leur future alliance lors des guerres √† venir.",
          },
          {
            id: 5,
            titre: "Ann√©e 122-124 | Le Nord",
            contenu:
              "Plusieurs d√©cennies passent, et le comt√© de Cornwall devient le th√©√¢tre d'une nouvelle invasion. Les familles humaines et naines, les Linster et les Goodbrook, s'unissent pour repousser les cyclopes du comt√©. Leur alliance scelle une nouvelle √®re de coop√©ration entre les peuples du nord, menant √† une s√©rie de victoires contre les envahisseurs.",
          },
        ],
      },
      {
        id: 2,
        titre: "Ann√©e 134-224 | Deuxi√®me √¢ge : Des cr√©atures pour la guerre !",
        sections: [
          {
            id: 1,
            titre: "Ann√©e 134 | Naissance du Premier Dragon",
            contenu:
              "Dans le comt√© de Palam, √† l'est du royaume, na√Æt le premier dragon. Cet √©v√©nement extraordinaire change la dynamique de pouvoir au sein du royaume, car les dragons deviennent une force redoutable et convoit√© par toutes les grandes familles.",
          },
          {
            id: 2,
            titre: "Ann√©e 161-164 | Grande Guerre de S√©paration",
            contenu:
              "La paix est √† nouveau rompue par la Grande Guerre de S√©paration. La famille Paltain, jusque-l√† souveraine, perd le contr√¥le des terres, et le royaume est divis√©. Les Paltain r√®gnent sur l'Ouest (Mofrage), les Lynster sur le Nord (Cornwall), les Roxton sur l'Est (Palam), et les Ouloh sur le Sud (Eldia). Durant cette guerre, les familles Roxton et Ouloh massacrent les peuples elfes, les for√ßant √† se r√©fugier dans les for√™ts du comt√© de Mofrage. En parall√®le, les nains et les hommes s'allient pour construire la grande mine de Moria dans le comt√© de Cornwall.",
          },
          {
            id: 3,
            titre: "Ann√©e 171 | L'Ascension du Dragon",
            contenu:
              "Apr√®s des ann√©es de recherches dans les terres recul√©es du comt√© de Palam, Vactir Wyne devint le premier humain √† dompter un dragon. Il trouva un ≈ìuf de dragon dans les montagnes de l'Est, et par sa patience et sa ma√Ætrise de la magie apprise aupr√®s des elfes, il fit √©clore l'≈ìuf et apprivoisa la cr√©ature. Le dragon devint un symbole de puissance pour la famille Wyne, marquant le d√©but de leur domination dans l'Est. La naissance du dragon et l'exploit de Vactir furent c√©l√©br√©s √† Rozdru, consolidant le statut de la famille Wyne comme ma√Ætres des dragons. Cela ouvrit √©galement la voie √† leur alliance future avec les Roxton, scellant le destin du royaume.",
          },
        ],
      },
      {
        id: 3,
        titre: "Ann√©e 225-321 | Troisi√®me √¢ge : Le royaume de Renblood",
        sections: [
          {
            id: 1,
            titre: "Ann√©e 225-236 | La Conqu√™te du Feu",
            contenu:
              "Les Roxton, alli√©s aux dragons des Wyne, lancent une campagne pour conqu√©rir les quatre continents. Les Lynster rejoignent l'alliance des Roxton, et ensemble, ils d√©clenchent une guerre qui aboutit √† l'extinction des familles Ouloh et Paltain. En 236, les Roxton fondent le Royaume de Renblood et s'autoproclament Rois, √©tablissant la forteresse de Rozdru comme capitale du royaume.",
          },
          {
            id: 2,
            titre: "Ann√©e 311 | L'√âveil du Gardien des Myst√®res",
            contenu:
              "Apr√®s des d√©cennies d'√©tudes et de m√©ditation dans les for√™ts du comt√© de Mofrage, Herris Chalk, ma√Ætre druidique et gardien des myst√®res de la nature, d√©couvrit un rituel ancien capable de renforcer les pouvoirs des for√™ts environnantes. Gr√¢ce √† ce rituel, les elfes purent prot√©ger les for√™ts de l'expansion humaine et y √©tablir des refuges s√ªrs. Herris rejoignit la Guilde Mystique et devint son chef en 312. Ses actes consolid√®rent le r√¥le des elfes dans la pr√©servation de la magie et de la nature du royaume.",
          },
          {
            id: 3,
            titre: "Ann√©e 321 | Le Pr√©sent",
            contenu:
              "Le royaume de Renblood continue d'√©voluer sous la gouvernance de la famille Rollingford. Stannis le Bon, gr√¢ce √† ses actions lors de la bataille de l'Haguersier, reste une figure respect√©e. Le royaume, d√©sormais unifi√©, se pr√©pare √† faire face aux nouveaux d√©fis et aux changements √† venir, tandis que les dragons, les elfes et les diff√©rentes guildes continuent de jouer un r√¥le majeur dans le maintien du pouvoir et de la culture de Renblood.",
          },
        ],
      },
    ],
  },
  2: {
    titre: "üìú Les Voies de la Connaissance et de l'√âveil",
    image: livre2Img,
    chapitres: [
      {
        id: 1,
        titre: "La Foi Tripartite",
        sections: [
          {
            id: 1,
            titre: "L'√âveil des Trois Dieux",
            contenu:
              "L'histoire se d√©roule dans un monde antique o√π les quatre continents √©taient autrefois prosp√®res, abritant des humains, des elfes et des nains. Cependant, la paix fut rompue lorsque des hordes d'orques et de cyclopes, dirig√©es par de sombres seigneurs, envahirent les terres. Au bord de l'extinction, les peuples libres se tourn√®rent vers la foi en trois dieux mythiques : Le Gardien, Le Gu√©risseur et Le Chercheur. Ces entit√©s divines apport√®rent respectivement la protection, la gu√©rison et la connaissance, unissant les peuples contre les envahisseurs. Apr√®s une victoire d√©cisive, la Foi Tripartite devint le socle spirituel du Royaume de Renblood.",
          },
          {
            id: 2,
            titre: "Les Pratiques Religieuses",
            contenu:
              "Les fid√®les de la Foi Tripartite pratiquent un m√©lange de pri√®res, rituels et m√©ditations. Les temples de chaque dieu sont souvent construits c√¥te √† c√¥te, symbolisant leur unit√©. Les pr√™tres et pr√™tresses offrent soins spirituels et physiques, tout en encourageant l'apprentissage et la d√©couverte. Des p√®lerinages vers les sites sacr√©s des dieux sont communs, renfor√ßant la foi et l'harmonie entre humains, elfes et nains.",
          },
          {
            id: 3,
            titre: "F√™tes Religieuses",
            contenu:
              "Plusieurs f√™tes jalonnent l'ann√©e : le Jour du Gardien c√©l√®bre la protection et la force, la F√™te du Gu√©risseur apporte soins et r√©confort aux malades, et la Journ√©e du Chercheur est d√©di√©e √† la qu√™te du savoir. Ces c√©l√©brations renforcent l'unit√© entre les races et rappellent l'importance de l'√©quilibre entre protection, gu√©rison et sagesse.",
          },
        ],
      },
      {
        id: 2,
        titre: "L'Arm√©e dans le Royaume de Renblood",
        sections: [
          {
            id: 1,
            titre: "Arm√©e Traditionnelle",
            contenu:
              "L'arm√©e traditionnelle est constitu√©e de soldats form√©s aux tactiques conventionnelles de combat. Les recrues d√©butent leur carri√®re en tant que simples soldats, puis √©voluent en √©cuyers et chevaliers. Les grades sup√©rieurs, comme H√©raut et Commandant, assurent la protection du royaume en menant des batailles et en formant les nouvelles g√©n√©rations de combattants.",
          },
          {
            id: 2,
            titre: "Arm√©e des Cr√©atures",
            contenu:
              "Certaines unit√©s militaires se sp√©cialisent dans la ma√Ætrise et l'utilisation de cr√©atures sur le champ de bataille. Les cavaliers d√©butent leur apprentissage avec des chevaux et hippogriffes, avant de progresser vers des montures plus puissantes, comme les wyvernes et les dragons. Cette branche militaire est particuli√®rement difficile d'acc√®s et n√©cessite des comp√©tences exceptionnelles en dressage et en strat√©gie.",
          },
          {
            id: 3,
            titre: "Arm√©e Mystique",
            contenu:
              "L'Arm√©e Mystique est constitu√©e de magiciennes et d'elfes maniant des arcanes puissants. Elles d√©veloppent leurs talents sous la tutelle de ma√Ætres exp√©riment√©s et assurent la d√©fense du royaume contre les menaces surnaturelles. Ces combattantes poss√®dent des connaissances avanc√©es en sortil√®ges de protection et en invocation.",
          },
          {
            id: 4,
            titre: "L√©galit√© du Service Militaire",
            contenu:
              "Tous les citoyens humains √¢g√©s de 14 √† 22 ans doivent servir au moins deux ans dans l'arm√©e. Ce service obligatoire inclut formation et d√©ploiement dans les diff√©rentes branches militaires. Pour les elfes, cette p√©riode s'√©tend entre 20 et 40 ans, refl√©tant leur long√©vit√© accrue. Le non-respect de cette obligation est s√©v√®rement puni.",
          },
          {
            id: 5,
            titre: "L'Arm√©e Mystique et la Magie Guerri√®re",
            contenu:
              "Chez les humains, une unit√© sp√©ciale appel√©e l'Arm√©e Mystique regroupe des femmes ma√Ætrisant la magie en compl√©ment du combat physique. Ces guerri√®res combinent force brute et puissance magique, cr√©ant une √©lite redoutable pour d√©fendre le royaume contre toute menace.",
          },
        ],
      },
      {
        id: 3,
        titre: "L'√âducation dans le Royaume de Renblood",
        sections: [
          {
            id: 1,
            titre: "Le Temple Scolaire et l'Apprentissage",
            contenu:
              "D√®s l'√¢ge de 5 ans, les enfants du royaume int√®grent le Temple Scolaire, o√π ils apprennent la lecture, l'√©criture et les bases de la vie quotidienne. Cet enseignement vise √† donner √† chaque individu les outils n√©cessaires pour comprendre et naviguer dans le monde qui l'entoure.",
          },
          {
            id: 2,
            titre: "Passage √† l'Apprentissage",
            contenu:
              "√Ä partir de 8 ans, les enfants choisissent une voie professionnelle. Ils passent la moiti√© de leur temps en √©tude et l'autre moiti√© en apprentissage pratique, pr√©parant ainsi leur futur m√©tier au sein du royaume.",
          },
          {
            id: 3,
            titre: "Enseignement Distinct pour Gar√ßons et Filles",
            contenu:
              "L'√©ducation est divis√©e en deux fili√®res : les gar√ßons sont form√©s aux arts martiaux, √† la strat√©gie et √† la gestion financi√®re, tandis que les filles se sp√©cialisent dans la magie et l'√©tude des artefacts anciens. Cette distinction refl√®te la tradition du royaume et l'importance des r√¥les compl√©mentaires dans la soci√©t√©.",
          },
          {
            id: 4,
            titre: "Le Pouvoir Mystique des Femmes",
            contenu:
              "Les femmes et les elfes ma√Ætrisent la magie √† un niveau avanc√©. Leur capacit√© √† manipuler les √©motions et √† utiliser des artefacts fait d'elles des magiciennes respect√©es et influentes. L'√©tude de la magie est rigoureuse et n√©cessite des ann√©es de formation intensive.",
          },
        ],
      },
      {
        id: 4,
        titre: "Les Elfes",
        sections: [
          {
            id: 1,
            titre: "Les Elfes C√©lestes (Ailurion)",
            contenu:
              "Les Elfes C√©lestes, ou Ailurion, sont li√©s aux cieux et aux √©toiles. Ils poss√®dent une peau argent√©e et des yeux lumineux. Experts en magie c√©leste, ils conservent les connaissances anciennes dans leurs biblioth√®ques astrales. Chaque lign√©e Ailurion est associ√©e √† une constellation sp√©cifique.",
          },
          {
            id: 2,
            titre: "Les Elfes des Profondeurs (Abyssion)",
            contenu:
              "Les Abyssions vivent dans les profondeurs des oc√©ans et des cavernes. Leur peau sombre et leurs yeux phosphorescents leur permettent de naviguer dans les t√©n√®bres. Ils sont reconnus pour leur ma√Ætrise de la magie aquatique et leur capacit√© √† communiquer avec les cr√©atures marines.",
          },
          {
            id: 3,
            titre: "Les Elfes √âth√©r√©s (√âthilion)",
            contenu:
              "Les √âthilions vivent dans les for√™ts anciennes et sont √©troitement li√©s √† la nature. Leur peau translucide et leur magie druidique leur permettent de prot√©ger les sanctuaires naturels. Ils vivent en harmonie avec les esprits de la nature et utilisent leur magie pour maintenir l'√©quilibre √©cologique.",
          },
          {
            id: 4,
            titre: "L'√âveil de l'Arbre d'√âther",
            contenu:
              "Les √âthilions v√©n√®rent un arbre sacr√© appel√© l'Arbre d'√âther, qui maintient l'√©quilibre magique de la for√™t. Lorsqu'une force mal√©fique corrompt les trois arbres protecteurs, une jeune elfe, √âlanor, entreprend une qu√™te pour purifier la for√™t et restaurer l'harmonie.",
          },
          {
            id: 5,
            titre: "Les Exploits d'√âlanor",
            contenu:
              "√âlanor, √©lue par l'Arbre d'√âther, traverse des √©preuves dangereuses, affronte des cr√©atures maudites et purifie les gardiens corrompus. Son triomphe marque le renouveau de la for√™t et la pr√©servation des traditions √âthilions.",
          },
        ],
      },
    ],
  },
};



function Chapitres() {
  const { livreId, chapitreId } = useParams();
  const navigate = useNavigate();
  const livre = livres[livreId];
  const chapitre = livre?.chapitres.find((c) => c.id === Number(chapitreId));
  const progress = (Number(chapitreId) / livre.chapitres.length) * 100;

  return (
    <motion.div
      className="p-10 text-center text-gray-200"
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.5 }}
    >
      <h1 className="text-3xl font-bold text-white mb-6">{livre?.titre}</h1>

      <div className="flex justify-center mb-6">
        <img src={livre.image} alt={livre.titre} className="w-64 h-80 rounded-lg shadow-lg" />
      </div>

      <h2 className="text-2xl font-semibold text-gray-300 mb-4">{chapitre?.titre}</h2>

      {/* üìä Barre de progression */}
      <div className="w-full max-w-2xl mx-auto bg-gray-700 rounded-full h-2.5 mb-4">
        <motion.div
          className="bg-blue-500 h-2.5 rounded-full"
          style={{ width: `${progress}%` }}
          initial={{ width: "0%" }}
          animate={{ width: `${progress}%` }}
          transition={{ duration: 0.5 }}
        />
      </div>

      {/* üìñ Affichage des sections du chapitre */}
      <div className="mt-6 space-y-4">
        {chapitre?.sections.map((section) => (
          <motion.div
            key={section.id}
            className="p-6 bg-gray-800 rounded-lg shadow-lg transition-transform transform hover:scale-105"
            initial={{ opacity: 0, x: -20 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5 }}
          >
            <h3 className="text-xl font-bold text-white mb-2">{section.titre}</h3>
            <p className="text-gray-300">{section.contenu}</p>
          </motion.div>
        ))}
      </div>

      {/* ‚è© Navigation entre les chapitres */}
      <div className="mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
        {livre.chapitres.map((c) => (
          <button
            key={c.id}
            onClick={() => navigate(`/histoires/livres/${livreId}/chapitre/${c.id}`)}
            className={`p-4 rounded-lg text-lg font-semibold transition-transform hover:scale-105 
              ${Number(chapitreId) === c.id ? "bg-gray-500" : "bg-blue-600 hover:bg-blue-500"} 
              text-white text-center shadow-lg w-full`}
          >
            {c.titre}
          </button>
        ))}
      </div>

    </motion.div>
  );
}

export default Chapitres;
